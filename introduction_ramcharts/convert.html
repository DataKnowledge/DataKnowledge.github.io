<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Convert JS code</title>

<script src="libs/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.1/css/cosmo.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.1/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/respond.min.js"></script>
<script src="libs/htmlwidgets-0.5/htmlwidgets.js"></script>
<script src="libs/amcharts-3.18.2/amcharts.js"></script>
<script src="libs/ramcharts_base-binding-1.1.3/ramcharts_base.js"></script>
<script src="libs/amcharts_typepie-3.18.2/pie.js"></script>
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Pompiere' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Hind:300' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Raleway:100' rel='stylesheet' type='text/css'>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="libs/highlight/default.css"
      type="text/css" />
<script src="libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>


<link rel="stylesheet" href="www/css/styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img { 
  max-width:100%; 
  height: auto; 
}
</style>
<div class="container-fluid main-container">

<!-- bootstrap row container for all the content -->
  
<div class="row">
  
  <nav class="col-xs-3 col-md-2" id="navbar">
    
    <ultoc class="toc" id="nav">
      
      <p id="main-toc">Tutorial - rAmCharts</p>
      <hr/>
      
      <b class="section-toc">Getting started</b>
      <br/><br/>

      <litoc><a class="toc-item" href="index.html">Introduction</a></litoc>
      <litoc><a class="toc-item" href="convert.html">Convert from JS</a></litoc>
      <litoc><a class="toc-item" href="shiny.html">Use in shiny apps</a></litoc>
      <litoc><a class="toc-item" href="advance.html">Advanced features</a></litoc>
      
      <hr/>
      
      <b class="section-toc">Functions 'am'</b>
      <br/><br/>
      
      <!--
      <litoc list-style-type:disc><a class="toc-item" href="amAngularGauge.html">amAngularGauge</a></litoc>
      -->
      <litoc list-style-type:disc><a class="toc-item" href="amBarplot.html">amBarplot</a></litoc>
      <litoc list-style-type:disc><a class="toc-item" href="amBoxplot.html">amBoxplot</a></litoc>
      <!--
      <litoc list-style-type:disc><a class="toc-item" href="amBullet.html">amBullet</a></litoc>
      -->
      <litoc list-style-type:disc><a class="toc-item" href="amCandlestick.html">amCandlestick</a></litoc>
      <litoc list-style-type:disc><a class="toc-item" href="amHist.html">amHist</a></litoc>
      

      <litoc list-style-type:disc><a class="toc-item" href="amRadar.html">amRadar</a></litoc>
      
      <!--
      <litoc list-style-type:disc><a class="toc-item" href="amMekko.html">amMekko</a></litoc>
      <litoc list-style-type:disc><a class="toc-item" href="amPie.html">amPie</a></litoc>
      <litoc list-style-type:disc><a class="toc-item" href="amPlot.html">amPlot</a></litoc>
      <litoc list-style-type:disc><a class="toc-item" href="amRadar.html">amRadar</a></litoc>
      <litoc list-style-type:disc><a class="toc-item" href="amWaterfall.html">amWaterfall</a></litoc>
      <litoc list-style-type:disc><a class="toc-item" href="amWind.html">amWind</a></litoc>
      -->
    </ultoc>
    
    <footer>
      <div class="copyrights"><small> © 2015-2016 DataKnowledge</small></div>
    </footer>
  </nav><!-- end of left column -->
  
  <div class="col-xs-9 col-md-10">
    <div class="row">
      <div class="col-xs-11 col-md-11">



<div id="same-structure-as-js" class="section level2">
<h2>Same structure as JS</h2>
<div id="exemple-with-a-pie-chart" class="section level3">
<h3>Exemple with a pie chart</h3>
<p>JS code:</p>
<pre class="javascript"><code>amcharts = {
  type: &quot;pie&quot;,
  theme: &quot;light&quot;,
  valueField: &quot;gdp&quot;,
  titleField: &quot;country&quot;,
  legend: {
    position: &quot;bottom&quot;,
    useMarkerColorForLabels: true
  }
  dataProvider: [
    {country: &quot;China&quot;, gdp: 18.976},
    {country: &quot;United States&quot;, gdp: 18.125},
    ...
  ],
}</code></pre>
<p>Result:</p>
<p><div id="htmlwidget-4112" style="width:100%;height:500px;" class="ramcharts_base"></div>
<script type="application/json" data-for="htmlwidget-4112">{"x":{"chartData":{"valueField":"gdp","titleField":"country","startDuration":0,"dataProvider":[{"country":"China","gdp":18.976},{"country":"United States","gdp":18.125},{"country":"India","gdp":7.997},{"country":"Japan","gdp":4.843},{"country":"Germany","gdp":3.815},{"country":"Russia","gdp":3.458},{"country":"Brazil","gdp":3.259},{"country":"Indonesia","gdp":2.84},{"country":"United Kingdom","gdp":2.641},{"country":"France","gdp":2.634}],"legend":{"position":"bottom","useMarkerColorForLabels":true},"type":"pie"},"background":"#ffffff","listeners":null,"axes_listeners":null,"axes_listenersIndices":null,"categoryAxis_listeners":null,"chartCursor_listeners":null,"dataSetSelector_listeners":null,"legend_listeners":null,"panels_listeners":null,"panels_listenersIndices":null,"periodSelector_listeners":null,"valueAxes_listeners":null,"valueAxes_listenersIndices":null},"evals":[]}</script></p>
<p>As you can see in the above example, an amcharts is defined as an object with different properties (which can be other object or array of objects). That works the same way in our package. For most of the existing objects in the JS library we have defined an S4 class that you can instantiate with a specific constructor. For instance if we want to declare an empty amcharts, use:</p>
<pre class="r"><code>amChart() %&gt;&gt;% print()</code></pre>
<pre><code>## ~  AmChart  object (with detail)~
## 
## Referenced properties:
##  
## 
##    - Detail:
## list()</code></pre>
<p>This creates en empty object, ready to get its different properties ! Also let’s notice that the different properties will appear in a list. That is a developpement choice for conveniency with the package ‘htmlwidgets’, but do not worry, for basic use you should never have to create the list by yourself.</p>
<p>Now let’s keep creating the chart.</p>
<p>For setting the chart properties, you have two choices:</p>
<ul>
<li><p>Either it is a <em>simple property</em> (not a object), in this case you can add the property directly in the constructor -best practice- or use a dedicated setter method if exists.</p></li>
<li><p>Or it is a <em>complex property</em> (object), in this case use a dedicated setter method:</p></li>
</ul>
<p>A setter method is an R function with the syntax <code>setXXX()</code> which have several parameters. The first parameter generally called ‘.Object’ is the object to which you want to set a property (it can be a <strong>chart</strong>, a <strong>legend</strong>, a <strong>graph</strong>…). The other parameter are the named properties.</p>
<div id="illustration-for-a-simple-property" class="section level4">
<h4>Illustration for a <em>simple property</em> :</h4>
<pre class="r"><code>amChart(type = &quot;pie&quot;)
# strictly equivalent to
amChart() %&gt;&gt;% setType(type = &quot;pie&quot;)</code></pre>
<p>Important: <strong>every</strong> amchart has a property called ‘type’. We recommend to set it directly by using the specific constructor:</p>
<p>Illustration for a <em>simple property</em> :</p>
<pre class="r"><code>amPieChart() %&gt;&gt;% print()</code></pre>
<pre><code>## ~  AmChart  object (with detail)~
## 
## Referenced properties:
## type 
## 
##    - Detail:
## $type
## [1] &quot;pie&quot;</code></pre>
</div>
<div id="illustration-for-a-complex-property" class="section level4">
<h4>Illustration for a <em>complex property</em> :</h4>
<pre class="r"><code>amPieChart() %&gt;&gt;% setLegend(position = &quot;bottom&quot;, useMarkerColorForLabels = TRUE) %&gt;&gt;% print()</code></pre>
<pre><code>## ~  AmChart  object (with detail)~
## 
## Referenced properties:
## legend, type 
## 
##    - Detail:
## $legend
## $legend$position
## [1] &quot;bottom&quot;
## 
## $legend$useMarkerColorForLabels
## [1] TRUE
## 
## 
## $type
## [1] &quot;pie&quot;</code></pre>
<p>Notice: as in the latter example, if you want to share settings for several amcharts you can also instantiate an object then set it to your charts in the constructors:</p>
<pre class="r"><code>legend_obj &lt;- legend(position = &quot;bottom&quot;, useMarkerColorForLabels = TRUE)
amchart1 &lt;- amChart(legend = legend_obj)
amchart2 &lt;- amChart(legend = legend_obj)</code></pre>
</div>
<div id="different-property-dataprovider" class="section level4">
<h4>Different property : dataProvider</h4>
<p>The property ‘dataProvider’ contain all data needed by an amchart. As we are R developer we have chosen that dataProvider would have a data.frame format (alternatively data.table).</p>
<p>Consequently, to set the dataProvider property you can either use the setter method or use the named parameter in the constructor:</p>
<pre class="r"><code>amPieChart(dataProvider = data_gdp)
# equivalent to:
amPieChart() %&gt;&gt;% setDataProvider(dataProvider = data_gdp) </code></pre>
</div>
</div>
</div>

      </div> <!-- end of column -->
    
      <div class="col-xs-1 col-md-1" id="logo">
        <a href="https://github.com/DataKnowledge/rAmCharts.git">
          <img  src="www/img/github.jpg" title="View on Github" id="img-github"/>
        </a>
      </div>
    
    </div><!-- end of row -->
  </div><!-- end of rigth column -->
  
  <script src="./www/js/navbar.js"> </script>
  <script src="./www/js/logo.js"> </script>
</div><!-- end of main row -->

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
