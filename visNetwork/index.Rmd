---
title: "visNetwork"
author: "B.Thieurmel"
date: "13/4/2015"
output: html_document
---

**visNetwork** is a R package for network visualization, using **vis.js** javascript library.

## Installation

Package is actually only available on github. You can install it with :

```{r, eval=FALSE}
devtools::install_github("bthieurmel/visNetwork")
```

## Minimal example

**visNetwork** needs at least two informations :

* a nodes data.frame, with *id* column
* a edges data.frame, with *from* and *to* columns

```{r net1}
require(visNetwork, quietly = TRUE)
# minimal example
nodes <- data.frame(id = 1:3)
edges <- data.frame(from = c(1,2), to = c(1,3))
visNetwork(nodes, edges, highlight.nearest = FALSE)
```

## More variables example
```{r net2}
nb <- 15
nodes <- data.frame(id = 1:nb, label = paste("Label", 1:nb),
 group = sample(1:nb, nb, replace = TRUE), value = 1:nb,
 title = paste0("<p>", 1:nb,"<br>Tooltip !</p>"), stringsAsFactors = FALSE)

edges <- data.frame(from = trunc(runif(nb)*(nb-1))+1,
 to = trunc(runif(nb)*(nb-1))+1,
 value = rnorm(nb, 10), label = paste("Edge", 1:nb),
 title = paste0("<p>", 1:nb,"<br>Edge Tooltip !</p>"))

visNetwork(nodes, edges)
```

## Add legend on groups
```{r net3}
visNetwork::visNetwork(nodes, edges, legend = TRUE)
```

## Select by node id
```{r net4}
visNetwork::visNetwork(nodes, edges, id.selection = TRUE)
```

## Directed network
```{r}
nodes <- data.frame(id = 1:nb, label = paste("Label", 1:nb),
 group = sample(1:nb, nb, replace = TRUE), value = 1:nb,
 title = paste0("<p>", 1:nb,"<br>Tooltip !</p>"), stringsAsFactors = FALSE)

edges <- data.frame(from = trunc(runif(nb)*(nb-1))+1,
 to = trunc(runif(nb)*(nb-1))+1,
 title = paste0("<p>", 1:nb,"<br>Edge Tooltip !</p>"))

visNetwork(nodes, edges) %>% visEdges(style = "arrow")
```

## Custom navigation
```{r}
visNetwork(nodes, edges) %>% visOptions(navigation = TRUE)
```

## Data Manipulation
```{r}
visNetwork(nodes, edges) %>% visOptions(dataManipulation = TRUE)
```

## Hierarchical Layout
```{r}
visNetwork(nodes, edges) %>% visHierarchicalLayout()
```

## Freeze network
```{r}
visNetwork(nodes, edges) %>% visOptions(dragNetwork = FALSE, dragNodes = FALSE)
```

## Clustering
```{r}
nodes <- data.frame(id = 1:100)
edges <- data.frame(from = round(runif(120)*100), to = round(runif(120)*100))

visNetwork(nodes, edges) %>%
 visClustering(initialMaxNodes = 50, nodeScaling = list(width = 50, height = 50, radius = 50))
```

