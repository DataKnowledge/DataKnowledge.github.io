---
pagetitle: Legend
---

```{r, eval=TRUE, echo = FALSE}
require("visNetwork", quietly = TRUE)
```

## Legend based on groups

We can simply add a legend, based on the definition of the groups, using **visLegend** : 

```{r}
nodes <- data.frame(id = 1:3, group = c("B", "A", "B"))
edges <- data.frame(from = c(1,2), to = c(2,3))

# default, on group
visNetwork(nodes, edges, width = "100%") %>%
  visGroups(groupname = "A", color = "red") %>%
  visGroups(groupname = "B", color = "lightblue") %>%
  visLegend()
```

## Placement

It's also possible to adjust ````position```` (left or right), and ````width```` : 

```{r}
visNetwork(nodes, edges, width = "100%") %>%
  visGroups(groupname = "A", color = "red") %>%
  visGroups(groupname = "B", color = "lightblue") %>%
  visLegend(width = 0.05, position = "right")
```

## Custom nodes/edges

Since **0.1.2**, you can add custom nodes (````addNodes````) and/or edges (````addEdges````) on the legend : 

```{r}
lnodes <- data.frame(label = c("Group A", "Group B"),
 shape = c( "ellipse"), color = c("red", "lightblue"),
 title = "Informations", id = 1:2)

ledges <- data.frame(color = c("lightblue", "red"),
 label = c("reverse", "depends"), arrows =c("to", "from"))
 
visNetwork(nodes, edges, width = "100%") %>%
  visGroups(groupname = "A", color = "red") %>%
  visGroups(groupname = "B", color = "lightblue") %>%
  visLegend(addEdges = ledges, addNodes = lnodes, useGroups = FALSE)
```

It's possible to use definition of the groups (````useGroups = TRUE #default````) with  custom nodes (````addNodes````) and/or edges (````addEdges````) : 

```{r}
ledges <- data.frame(color = c("lightblue", "red"),
 label = c("reverse", "depends"), arrows =c("to", "from"))
 
visNetwork(nodes, edges, width = "100%") %>%
  visGroups(groupname = "A", color = "red") %>%
  visGroups(groupname = "B", color = "lightblue") %>%
  visLegend(addEdges = ledges, useGroups = TRUE) 
```

For more complex elements, use **lists** instead of **data.frame** : 

```{r}
nodes <- data.frame(id = 1:3, group = c("B", "A", "B"))
edges <- data.frame(from = c(1,2), to = c(2,3))

visNetwork(nodes, edges) %>%
 visGroups(groupname = "A", shape = "icon", icon = list(code = "f0c0", size = 75)) %>%
 visGroups(groupname = "B", shape = "icon", icon = list(code = "f007", color = "red")) %>%
 addFontAwesome() %>%
 visLegend(addNodes = list(
  list(label = "Group", shape = "icon", icon = list(code = "f0c0", size = 25)),
  list(label = "User", shape = "icon", icon = list(code = "f007", size = 50, color = "red"))
 ), useGroups = FALSE)
```